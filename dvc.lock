data_prep:
  cmd: python src/data_prep.py
  deps:
  - path: data/raw
    md5: 839181fbaf7b33d3570fd051079181c4.dir
  - path: src/data_prep.py
    md5: 60a2b3bd883afeaa32531c271791b119
  outs:
  - path: data/processed
    md5: 27cea6647aa03d2ccd578fdfee491412.dir
train_model:
  cmd: python src/train.py
  deps:
  - path: data/processed
    md5: 27cea6647aa03d2ccd578fdfee491412.dir
  - path: src/train.py
    md5: e2e0e420e48b5dcd8d42b2c2fbba0bd0
  params:
    params.yaml:
      train.bs: 32
      train.epochs: 3
      train.metric: accuracy
      train.pretrained_embedding: https://tfhub.dev/google/nnlm-en-dim128-with-normalization/2
  outs:
  - path: models/text-classification-model
    md5: 3f1777e4a8ae036aaba9a83cbf605c66.dir
  - path: train-run-metrics.md
    md5: a31e1ff3ce47205e65bb9178e08e443e
